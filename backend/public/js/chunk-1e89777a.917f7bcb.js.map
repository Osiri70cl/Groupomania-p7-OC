{"version":3,"sources":["webpack:///./src/components/UserModifyModal.vue","webpack:///./src/components/UserModifyModal.vue?bc87","webpack:///./src/components/UserModifyModal.vue?abb3"],"names":["class","role","aria-modal","aria-label","name","type","close","username","placeholder","description","uploadFile","ref","label","for","accept","disabled","validatedFields","messages","components","XCircleIcon","data","email","file","computed","state","message","user","this","methods","$refs","files","updateProfil","id","$store","userId","formData","FormData","append","dispatch","$emit","__exports__","render"],"mappings":"8JAGWA,MAAM,c,GACJA,MAAM,kB,GAEPA,MAAM,qBACNC,KAAK,SACLC,aAAW,OACXC,aAAW,8B,GAENH,MAAM,c,EAUX,eAA+C,MAA3CA,MAAM,eAAc,sBAAkB,G,EAuBxC,eAA2D,QAArDA,MAAM,WAAU,kCAA8B,G,GAa/CA,MAAM,uB,uHAxDvB,eA6Ea,QA7EDI,KAAK,cAAY,C,wBAC3B,iBA2EM,CA3EN,eA2EM,OA3EDJ,MAAM,iBAAkB,QAAK,4BAAN,cAAW,Y,CACrC,eAyEM,MAzEN,EAyEM,CAxEJ,eAuEM,MAvEN,EAuEM,CAtEJ,eAqEM,MArEN,EAqEM,CA/DJ,eASM,MATN,EASM,CARJ,eAOS,UANPK,KAAK,SACLF,aAAW,SACV,QAAK,8BAAE,EAAAG,OAAA,EAAAA,MAAA,qBACRN,MAAM,e,CAEN,eAAiC,GAApBA,MAAM,kBAGvB,EAEA,eAkDO,aAjDL,eAQM,Y,eAPJ,eAME,Y,qDALS,EAAAO,SAAQ,IACjBP,MAAM,sBACNK,KAAK,OACLG,YAAY,oBACZL,aAAW,6B,mBAJF,EAAAI,cAQb,eAQM,Y,eAPJ,eAME,Y,qDALS,EAAAE,YAAW,IACpBT,MAAM,uBACNK,KAAK,OACLG,YAAY,mBACZL,aAAW,0B,mBAJF,EAAAM,iBAQb,EACA,eAUE,SATC,SAAM,8BAAE,EAAAC,YAAA,EAAAA,WAAA,qBACTC,IAAI,OACJC,MAAA,GACAC,IAAI,QACJT,KAAK,QACLJ,MAAM,mBACNK,KAAK,OACLS,OAAO,mCACPX,aAAW,8B,UAGb,eAeM,MAfN,EAeM,CAdJ,eAaS,UAZPE,KAAK,SACJ,QAAK,wBAAuB,iBAAoC,YAIjEL,MAAM,gBACLe,UAAW,EAAAC,iB,CAEQ,kBAAR,EAAAC,U,iBAAZ,eAEC,SADE,8B,iBAEH,eAA4B,SAAf,c,mEAehB,GACbb,KAAM,cAENc,WAAY,CAAEC,YAAA,QAEdC,KAAM,WACJ,MAAO,CACLb,SAAU,GACVc,MAAO,GACPZ,YAAa,GACba,KAAM,OAIVC,SAAU,iCACL,eAAS,CACVN,SAAU,SAACO,GAAD,OAAWA,EAAMC,SAC3BC,KAAM,SAACF,GAAD,OAAWA,EAAME,SAHnB,IAMNV,gBAAiB,WACf,MACoB,KAAlBW,KAAKpB,UACgB,KAArBoB,KAAKlB,aACS,OAAdkB,KAAKL,QASXM,QAAS,CACPlB,WADO,WAEL,IAAMY,EAAOK,KAAKE,MAAMP,KAAKQ,MAAM,GACnCH,KAAKL,KAAOA,GAGdS,aAAc,WAGZ,IAAIC,EAAKL,KAAKM,OAAOT,MAAME,KAAKQ,OAE1BC,EAAW,IAAIC,SAEC,KAAlBT,KAAKpB,UACP4B,EAASE,OAAO,WAAYV,KAAKpB,UAGV,KAArBoB,KAAKlB,aACP0B,EAASE,OAAO,cAAeV,KAAKlB,aAEpB,OAAdkB,KAAKL,MACPa,EAASE,OAAO,QAASV,KAAKL,MAGhCK,KAAKM,OAAOK,SAAS,kBAAmB,CACtCN,GAAIA,EACJZ,KAAMe,KAIV7B,MA9BO,WA+BLqB,KAAKY,MAAM,Y,iCC9IjB,MAAMC,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,KAErD,gB,yDCTf","file":"js/chunk-1e89777a.917f7bcb.js","sourcesContent":["<template>\n  <transition name=\"modal-fade\">\n    <div class=\"modal-main-div\" @click.stop>\n      <div class=\"modal-main\">\n        <div class=\"modal-backdrop\">\n          <div\n            class=\"modal-main-content\"\n            role=\"dialog\"\n            aria-modal=\"true\"\n            aria-label=\"modal modification de post\"\n          >\n            <div class=\"button-div\">\n              <button\n                type=\"button\"\n                aria-label=\"fermer\"\n                @click=\"close\"\n                class=\"closeButton\"\n              >\n                <XCircleIcon class=\"crossIcon\" />\n              </button>\n            </div>\n            <h2 class=\"modal-title\">Modifier un profil</h2>\n\n            <form>\n              <div>\n                <textarea\n                  v-model=\"username\"\n                  class=\"modal-textArea-user\"\n                  type=\"text\"\n                  placeholder=\"Nom d'utilisateur\"\n                  aria-label=\"Changer nom d'utilisateur\"\n                />\n              </div>\n\n              <div>\n                <textarea\n                  v-model=\"description\"\n                  class=\"modal-textArea-about\"\n                  type=\"text\"\n                  placeholder=\"A propos de vous\"\n                  aria-label=\"Changer de description\"\n                />\n              </div>\n\n              <span class=\"subtext\">Modifier votre photo de profil</span>\n              <input\n                @change=\"uploadFile\"\n                ref=\"file\"\n                label\n                for=\"image\"\n                name=\"image\"\n                class=\"modal-input-file\"\n                type=\"file\"\n                accept=\"image/png, image/jpeg, image/gif\"\n                aria-label=\"Changer la photo de profil\"\n              />\n\n              <div class=\"flex justify-center\">\n                <button\n                  type=\"button\"\n                  @click=\"\n                    updateProfil();\n                    close();\n                  \"\n                  class=\"modify-button\"\n                  :disabled=\"!validatedFields\"\n                >\n                  <span v-if=\"messages == 'Post modifié !'\"\n                    >Modification en cours...</span\n                  >\n                  <span v-else>Modifier</span>\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  </transition>\n</template>\n\n<script>\nimport { XCircleIcon } from \"@heroicons/vue/solid\";\nimport { mapState } from \"vuex\";\n\nexport default {\n  name: \"modifyModal\",\n\n  components: { XCircleIcon },\n\n  data: function () {\n    return {\n      username: \"\",\n      email: \"\",\n      description: \"\",\n      file: null,\n    };\n  },\n\n  computed: {\n    ...mapState({\n      messages: (state) => state.message,\n      user: (state) => state.user,\n    }),\n\n    validatedFields: function () {\n      if (\n        this.username !== \"\" ||\n        this.description !== \"\" ||\n        this.file !== null\n      ) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n\n  methods: {\n    uploadFile() {\n      const file = this.$refs.file.files[0];\n      this.file = file;\n    },\n\n    updateProfil: function () {\n      // Même schéma que pour la création des posts, mis à part que le payload comporte l'id du post en plus du data\n\n      let id = this.$store.state.user.userId;\n\n      const formData = new FormData();\n\n      if (this.username !== \"\") {\n        formData.append(\"username\", this.username);\n      }\n\n      if (this.description !== \"\") {\n        formData.append(\"description\", this.description);\n      }\n      if (this.file !== null) {\n        formData.append(\"image\", this.file);\n      }\n\n      this.$store.dispatch(\"updateUserInfos\", {\n        id: id,\n        data: formData,\n      });\n    },\n\n    close() {\n      this.$emit(\"close\");\n    },\n  },\n};\n</script>\n\n<style>\n.modal-fade-enter,\n.modal-fade-leave-to {\n  opacity: 0;\n}\n\n.modal-fade-enter-active,\n.modal-fade-leave-active {\n  transition: opacity 0.5s ease-in-out;\n}\n\n.modal-main-div {\n  position: relative;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9999;\n}\n\n.modal-main {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 9999;\n  backdrop-filter: blur(20px);\n}\n\n.modal-backrop {\n  overflow-y: auto;\n  background-color: rgba(128, 128, 128, 0.445);\n}\n\n.modal-main-content {\n  margin: auto;\n  top: 100px;\n  position: relative;\n  background-color: white;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 50%;\n  border: 2px solid grey;\n  border-radius: 20px;\n  padding: 40px;\n}\n.closeButton {\n  position: absolute;\n  top: -4px;\n  right: -4px;\n}\n\n.crossIcon {\n  height: 50px;\n  width: 50px;\n  color: #ff6b6b;\n}\n.modal-title {\n  font-size: 1.5rem;\n  font-weight: bold;\n  margin-bottom: 20px;\n}\n.modal-textArea-user {\n  padding: 10px;\n  height: 50px;\n  width: 100%;\n  border-radius: 20px;\n  border: 2px solid grey;\n}\n.modal-textArea-about {\n  padding: 10px;\n  height: 100px;\n  width: 100%;\n  border-radius: 20px;\n  border: 2px solid grey;\n}\n.modal-input-file {\n  padding: 10px;\n  height: 50px;\n  width: 100%;\n  border-radius: 20px;\n  border: 2px solid grey;\n}\n.subtext {\n  font-size: 0.8rem;\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n.modify-button {\n  margin: 20px;\n  padding: 20px;\n  background-color: #444444;\n  color: white;\n  border: none;\n  cursor: pointer;\n  border-radius: 40px;\n}\n.modify-button:hover {\n  background-color: #ff6b6b;\n}\n\n@media (max-width: 750px) {\n  .modal-main-content {\n    width: 90%;\n  }\n}\n</style>\n","import { render } from \"./UserModifyModal.vue?vue&type=template&id=5758aa7e\"\nimport script from \"./UserModifyModal.vue?vue&type=script&lang=js\"\nexport * from \"./UserModifyModal.vue?vue&type=script&lang=js\"\n\nimport \"./UserModifyModal.vue?vue&type=style&index=0&id=5758aa7e&lang=css\"\n\nimport exportComponent from \"D:\\\\codage\\\\OpenClassrooms\\\\Projet_7\\\\Groupomania-p7-OC\\\\frontend\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserModifyModal.vue?vue&type=style&index=0&id=5758aa7e&lang=css\""],"sourceRoot":""}